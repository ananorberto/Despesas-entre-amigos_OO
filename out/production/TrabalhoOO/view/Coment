package view;

import java.awt.*;
import java.awt.event.*;
import javax.swing.*;

public class Menu extends JFrame {

    private JTextField grupoField;
    private JTextField usuarioField;

    public Menu() {
        super("Despesa entre amigos");

        criarMenu();
        criarCadastro();

    }

    private void criarCadastro() {
        setLayout(new BorderLayout());

        //add titulo
        JPanel panelTitulo = new JPanel();
        panelTitulo.setLayout(new FlowLayout());

        JLabel titulo = new JLabel("Despesa entre amigos\n");
        titulo.setFont(new Font("Verdana", Font.PLAIN, 20));
        panelTitulo.add(titulo);


        //add caixas de texto
        JPanel panelCadastro = new JPanel();
        panelCadastro.setLayout(new FlowLayout());

        JLabel grupoLabel = new JLabel("Nome do Grupo: ");
        grupoField = new JTextField(35);

        JLabel usuarioLabel = new JLabel("Nome do Usuario: ");
        usuarioField = new JTextField(35);

        panelCadastro.add(grupoLabel);
        panelCadastro.add(grupoField);
        panelCadastro.add(usuarioLabel);
        panelCadastro.add(usuarioField);

        //adicionando botoes cadastrar e cancelar
        JPanel button = new JPanel();
        button.setLayout(new FlowLayout());

        SaveAction saveAction = new SaveAction();
        JButton buttonCadastrar = new JButton("Cadastrar");
        buttonCadastrar.addActionListener(saveAction);

        ExitAction exitAction = new ExitAction();
        JButton buttonCancel = new JButton("Cancelar");
        buttonCancel.addActionListener(exitAction);


        button.add(buttonCadastrar);
        button.add(buttonCancel);

        add(panelTitulo, BorderLayout.NORTH);
        add(panelCadastro, BorderLayout.CENTER);
        add(button, BorderLayout.SOUTH);

    }

    private void criarMenu(){

        JMenu menuCadastro = new JMenu("Cadastro");

        //acoes barra de menu
        NewAction newAction = new NewAction();
        ExitAction exitAction = new ExitAction();
        SaveAction saveAction = new SaveAction();
        AboutAction aboutAction = new AboutAction();

        JMenuItem novoGrupo = new JMenuItem("Novo Grupo");
        novoGrupo.addActionListener(newAction);
        menuCadastro.add(novoGrupo);

        JMenuItem addUsuario = new JMenuItem("Novo usuário");
        addUsuario.addActionListener(newAction);
        menuCadastro.add(addUsuario);

        JMenuItem save = new JMenuItem("Salvar");
        save.addActionListener(saveAction);
        menuCadastro.add(save);

        JMenu menuOpcoes = new JMenu("Opcoes");

        JMenuItem about = new JMenuItem("Sobre");
        about.addActionListener(aboutAction);
        menuOpcoes.add(about);

        JMenuItem exit = new JMenuItem("Sair");
        exit.addActionListener(exitAction);
        menuOpcoes.add(exit);

        JMenuBar barra = new JMenuBar();
        setJMenuBar(barra);
        barra.add(menuCadastro);
        barra.add(menuOpcoes);
    }

    private class NewAction implements ActionListener{

        @Override
        public void actionPerformed(ActionEvent e) {
            grupoField.setText("");
            usuarioField.setText("");
        }
    }

    private class ExitAction implements ActionListener{

        //Fechar aplicação
        @Override
        public void actionPerformed(ActionEvent e) {
            System.exit(0);
        }
    }

    private class SaveAction implements ActionListener{

        @Override
        public void actionPerformed(ActionEvent e) {
            JOptionPane.showMessageDialog(null, "Seu Cadastro foi salvo", "Cadastro", JOptionPane.PLAIN_MESSAGE);
        }
    }

    private class AboutAction implements ActionListener{

        @Override
        public void actionPerformed(ActionEvent e) {
            JOptionPane.showMessageDialog(null, "Este programa foi criado por Ana Beatriz Norberto e Leonardo Gonçalves Machado," +
                                                                       "\ncom o intuito de dividir despesas entre amigos que vivem juntos ", "Sobre", JOptionPane.PLAIN_MESSAGE);

        }
    }

    public static void main(String args[]) {
        Menu cadastro = new Menu();

        cadastro.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
        cadastro.setSize(530,260);
        cadastro.setResizable(false);
        cadastro.setVisible(true);
    }

}


